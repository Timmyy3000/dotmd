---
import BaseLayout from '../layouts/BaseLayout.astro';
import PostCard from '../components/PostCard.astro';
import { getPublishedPosts } from '../lib/posts';

const posts = await getPublishedPosts();
---

<BaseLayout title="dotmd" description="Chasing the impro" canonicalPath="/">
	<section class="intro-panel">
		<h1>Latest</h1>
		<p class="vibe-disclaimer">
			Thoughts by
			<a href="https://x.com/timithechef" target="_blank" rel="noreferrer">Timi</a>.
			Built by AI
		</p>
	</section>

	<section class="feed" aria-label="Post feed">
		{
			posts.length === 0 ? (
				<p>Nothing here yet â€” the first post is on its way.</p>
			) : (
				posts.map((post) => <PostCard post={post} />)
			)
		}
	</section>
</BaseLayout>
