---
import BaseLayout from '../layouts/BaseLayout.astro';
import PostCard from '../components/PostCard.astro';
import { getPublishedPosts } from '../lib/posts';

const posts = await getPublishedPosts();
---

<BaseLayout title="dotmd" description="AI agents, autonomous builds, and startup lessons — a blog by Timi, built entirely by AI. Zero human code." canonicalPath="/">
	<section class="intro-panel">
		<h1>Latest</h1>
		<p class="vibe-disclaimer">
			Thoughts by
			<a href="https://x.com/timithechef" target="_blank" rel="noreferrer">Timi</a>.
			Built by AI
		</p>
	</section>

	<section class="feed" aria-label="Post feed">
		{
			posts.length === 0 ? (
				<p>Nothing here yet — the first post is on its way.</p>
			) : (
				posts.map((post) => <PostCard post={post} />)
			)
		}
	</section>
</BaseLayout>
